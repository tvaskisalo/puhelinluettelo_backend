{"version":3,"sources":["components/FilterList.js","components/FilterUI.js","components/SubmitNumber.js","components/handleContainsCheck.js","services/persons.js","index.js"],"names":["FilterList","persons","filter","handleDelete","map","person","name","match","RegExp","key","id","number","type","value","onClick","FilterUI","handleFilter","onChange","SubmitNumber","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","addNewNameToList","some","axios","get","then","response","data","updatedInfo","put","post","delete","Notification","message","style","typeSuccess","ErrorMsg","typeError","color","fontSize","background","padding","borderRadius","borderStyle","marginBottom","App","useState","setPersons","setNewName","setNewNumber","msg","setMsg","errorMsg","setErrorMsg","setFilter","useEffect","personsService","event","target","preventDefault","handleContainsCheck","window","confirm","setTimeout","catch","error","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.17da474e.chunk.js","sourcesContent":["import React from 'react'\r\nconst FilterList = ({persons, filter, handleDelete}) => {\r\n    return (\r\n      <ul>\r\n      {persons.map((person) => \r\n        {if(person.name.match(new RegExp(filter, 'i'))) {\r\n          return <p key={person.id}>\r\n          {person.name + \" \" + person.number}<input type='button' value='delete' onClick={() => handleDelete(person.name)}/>\r\n          </p>\r\n        } else {\r\n          return null\r\n        }\r\n      }  \r\n    )}\r\n  </ul>\r\n   )\r\n  }\r\nexport default FilterList","import React from 'react'\r\nconst FilterUI = ({filter, handleFilter}) => {\r\n    return (\r\n        <div>\r\n          Filter by: <input\r\n            value={filter}\r\n            onChange={handleFilter}\r\n          />\r\n        </div>\r\n    )\r\n  }\r\nexport default FilterUI","import React from 'react'\r\nconst SubmitNumber = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n      <form onSubmit={addName}>\r\n          <div>\r\n            name: <input \r\n              value={newName}\r\n              onChange={handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            number: <input \r\n              value={newNumber}\r\n              onChange={handleNumberChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\nexport default SubmitNumber","\r\nconst addNewNameToList = ({persons, newName}) => {\r\n  const contains = persons.some(person => person.name === newName)\r\n  if (contains) {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n  }\r\nexport default addNewNameToList","import axios from 'axios'\r\nconst serverUrl = '/api/persons'\r\n\r\nconst getPersons = () =>{\r\n  const request = axios.get(serverUrl)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst updatePerson = (id, updatedInfo) => {\r\n  const request = axios.put(`${serverUrl}/${id}`, updatedInfo)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst addPerson = (person) => {\r\n  const request = axios.post(serverUrl, person)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst removePerson =(id) => {\r\n  const request = axios.delete(`${serverUrl}/${id}`)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nexport default { getPersons, updatePerson, addPerson, removePerson }","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport FilterList from './components/FilterList'\nimport FilterUI from './components/FilterUI'\nimport SubmitNumber from './components/SubmitNumber'\nimport handleContainsCheck from './components/handleContainsCheck'\nimport personsService from './services/persons'\n\nconst Notification =({message}) => {\n  if(message === null) {\n    return null\n  }\n\n  return(\n    <div style={typeSuccess}>\n      {message}\n    </div> \n  )\n\n}\n\nconst ErrorMsg =({message}) => {\n  if(message=== null) {\n    return null\n  }\n  return(\n    <div style={typeError}>\n      {message}\n    </div> \n  )\n}\n\nconst typeError = {\n  color: 'red',\n  fontSize: 20,\n  background: 'lightgrey',\n  padding: '10px',\n  borderRadius: '5px',\n  borderStyle: 'solid',\n  marginBottom: '10px'\n}\n\nconst typeSuccess = {\n  color: 'green', \n  fontSize: 20,\n  background: 'lightgrey',\n  padding: '10px',\n  borderRadius: '5px',\n  borderStyle: 'solid',\n  marginBottom: '10px'\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('') \n  const [ msg, setMsg ] = useState(null)\n  const [ errorMsg, setErrorMsg] = useState(null)\n  const [ filter, setFilter] = useState('')\n\n  useEffect(() => {\n    personsService\n      .getPersons()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const contains = handleContainsCheck({persons, newName})\n    if(!contains) {\n      personsService\n        .addPerson({name: newName, number: newNumber})\n        .then(response => {\n        setPersons(persons.concat(response))\n      })\n      setMsg(\n        `${newName} was added to the phonebook`\n      )\n      setTimeout(() => {\n        setMsg(null)\n      }, 5000)\n    } else {\n      const result = window.confirm(`${newName} is in the phonebook. Do you want to replace it with a new number?`)\n      if(result) {\n        const id = persons.filter(person => person.name===newName)[0].id\n        personsService\n          .updatePerson(id, {name:newName, number:newNumber})\n          .then(response => {\n            setPersons(persons.map(person => person.id !== id ? person : response))\n            setMsg(\n              `${newName} was added to the phonebook`\n            )\n            setTimeout(() => {\n              setMsg(null)\n            }, 5000)  \n          })\n          .catch(error => {\n            console.log('Update failed')\n            setErrorMsg(`Failed to update ${newName}'s number`)\n            setTimeout(() => {\n              setErrorMsg(null)\n            }, 5000)\n          })\n        \n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDelete = (name) => {\n    const result = window.confirm(`Do you want to delete ${name}?`)\n    if (result) {\n      const id = persons.filter(person => person.name===name)[0].id\n      personsService\n        .removePerson(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.name !== name))\n          setMsg(\n            `${name} was deleted from the phonebook`\n          )\n          setTimeout(() => {\n            setMsg(null)\n          }, 5000)  \n        })\n        .catch(error => {\n          console.log('Deletion failed')\n          setErrorMsg(`Failed to delete ${newName}'s number`)\n          setTimeout(() => {\n            setErrorMsg(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n        <Notification message={msg}/>\n        <ErrorMsg message={errorMsg}/>\n      <h2>Filter:</h2>\n        <FilterUI filter={filter} handleFilter={handleFilter}/>\n      <h2>Add a phonenumber</h2>\n        <SubmitNumber addName = {addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n        <FilterList persons={persons} filter={filter} handleDelete={handleDelete}/>\n    </div>\n  )\n\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}